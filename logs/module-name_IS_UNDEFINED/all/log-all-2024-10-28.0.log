2024-10-28 13:39:05 |INFO  |main |RpcClientFactory.java:80 |com.alibaba.nacos.common.remote.client |[RpcClientFactory] create a new rpc client of 65204cda-953d-4a4c-92f1-e499b03bf04d_config-0
2024-10-28 13:39:05 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 22 ms to scan 1 urls, producing 3 keys and 6 values 
2024-10-28 13:39:05 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 6 ms to scan 1 urls, producing 4 keys and 9 values 
2024-10-28 13:39:05 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 5 ms to scan 1 urls, producing 3 keys and 10 values 
2024-10-28 13:39:05 |WARN  |main |Reflections.java:179 |org.reflections.Reflections |given scan urls are empty. set urls in the configuration
2024-10-28 13:39:05 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 5 ms to scan 1 urls, producing 1 keys and 5 values 
2024-10-28 13:39:05 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 5 ms to scan 1 urls, producing 1 keys and 7 values 
2024-10-28 13:39:05 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 8 ms to scan 1 urls, producing 2 keys and 8 values 
2024-10-28 13:39:05 |WARN  |main |Reflections.java:179 |org.reflections.Reflections |given scan urls are empty. set urls in the configuration
2024-10-28 13:39:05 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[65204cda-953d-4a4c-92f1-e499b03bf04d_config-0] RpcClient init label, labels = {module=config, Vipserver-Tag=null, source=sdk, Amory-Tag=null, Location-Tag=null, taskId=0, AppName=unknown}
2024-10-28 13:39:05 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[65204cda-953d-4a4c-92f1-e499b03bf04d_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$498/0x00000008003d2040
2024-10-28 13:39:05 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[65204cda-953d-4a4c-92f1-e499b03bf04d_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$499/0x00000008003d2440
2024-10-28 13:39:05 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[65204cda-953d-4a4c-92f1-e499b03bf04d_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-10-28 13:39:05 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[65204cda-953d-4a4c-92f1-e499b03bf04d_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-10-28 13:39:05 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[65204cda-953d-4a4c-92f1-e499b03bf04d_config-0] Try to connect to server on start up, server: {serverIp = '8.138.31.44', server main port = 8848}
2024-10-28 13:39:07 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[65204cda-953d-4a4c-92f1-e499b03bf04d_config-0] Success to connect to server [8.138.31.44:8848] on start up, connectionId = 1730093948071_221.4.34.2_9319
2024-10-28 13:39:07 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[65204cda-953d-4a4c-92f1-e499b03bf04d_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-10-28 13:39:07 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[65204cda-953d-4a4c-92f1-e499b03bf04d_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$513/0x000000080040e440
2024-10-28 13:39:07 |INFO  |com.alibaba.nacos.client.remote.worker |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[65204cda-953d-4a4c-92f1-e499b03bf04d_config-0] Notify connected event to listeners.
2024-10-28 13:39:07 |WARN  |main |NacosPropertySourceBuilder.java:87 |com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder |Ignore the empty nacos configuration and get it based on dataId[search-service] & group[DEFAULT_GROUP]
2024-10-28 13:39:07 |WARN  |main |NacosPropertySourceBuilder.java:87 |com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder |Ignore the empty nacos configuration and get it based on dataId[search-service.yaml] & group[DEFAULT_GROUP]
2024-10-28 13:39:07 |WARN  |main |NacosPropertySourceBuilder.java:87 |com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder |Ignore the empty nacos configuration and get it based on dataId[search-service-dev.yaml] & group[DEFAULT_GROUP]
2024-10-28 13:39:07 |INFO  |main |PropertySourceBootstrapConfiguration.java:109 |org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration |Located property source: [BootstrapPropertySource {name='bootstrapProperties-search-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-search-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-search-service,DEFAULT_GROUP'}]
2024-10-28 13:39:07 |INFO  |main |SpringApplication.java:637 |com.bilibili.search.SearchApplication |The following 1 profile is active: "dev"
2024-10-28 13:39:08 |INFO  |main |RepositoryConfigurationDelegate.java:262 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-28 13:39:08 |INFO  |main |RepositoryConfigurationDelegate.java:132 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-10-28 13:39:08 |INFO  |main |RepositoryConfigurationDelegate.java:201 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Finished Spring Data repository scanning in 7 ms. Found 0 Elasticsearch repository interfaces.
2024-10-28 13:39:08 |INFO  |main |RepositoryConfigurationDelegate.java:262 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-28 13:39:08 |INFO  |main |RepositoryConfigurationDelegate.java:132 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-10-28 13:39:08 |INFO  |main |RepositoryConfigurationDelegate.java:201 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Finished Spring Data repository scanning in 3 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-10-28 13:39:08 |INFO  |main |RepositoryConfigurationDelegate.java:262 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-28 13:39:08 |INFO  |main |RepositoryConfigurationDelegate.java:132 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-28 13:39:08 |INFO  |main |RepositoryConfigurationDelegate.java:201 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-10-28 13:39:08 |INFO  |main |GenericScope.java:283 |org.springframework.cloud.context.scope.GenericScope |BeanFactory id=404b0189-9db9-3a47-abe2-916bbc6e6efd
2024-10-28 13:39:09 |INFO  |main |TomcatWebServer.java:108 |org.springframework.boot.web.embedded.tomcat.TomcatWebServer |Tomcat initialized with port(s): 8082 (http)
2024-10-28 13:39:09 |INFO  |main |DirectJDKLog.java:173 |org.apache.coyote.http11.Http11NioProtocol |Initializing ProtocolHandler ["http-nio-8082"]
2024-10-28 13:39:09 |INFO  |main |DirectJDKLog.java:173 |org.apache.catalina.core.StandardService |Starting service [Tomcat]
2024-10-28 13:39:09 |INFO  |main |DirectJDKLog.java:173 |org.apache.catalina.core.StandardEngine |Starting Servlet engine: [Apache Tomcat/9.0.75]
2024-10-28 13:39:09 |INFO  |main |DirectJDKLog.java:173 |org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] |Initializing Spring embedded WebApplicationContext
2024-10-28 13:39:09 |INFO  |main |ServletWebServerApplicationContext.java:292 |org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext |Root WebApplicationContext: initialization completed in 1708 ms
2024-10-28 13:39:09 |WARN  |pool-4-thread-1 |ZipkinAutoConfiguration.java:164 |org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration |Check result of the [RestTemplateSender{http://localhost:9411/api/v2/spans}] contains an error [CheckResult{ok=false, error=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect}]
2024-10-28 13:39:10 |INFO  |main |ElasticsearchClientConfig.java:55 |com.bilibili.search.config.ElasticsearchClientConfig |Connecting Elasticsearch...
2024-10-28 13:39:10 |INFO  |main |ElasticsearchClientConfig.java:70 |com.bilibili.search.config.ElasticsearchClientConfig |Elasticsearch Connected!
2024-10-28 13:39:10 |INFO  |main |MybatisPlusJoinAutoConfiguration.java:140 |com.github.yulichang.autoconfigure.MybatisPlusJoinAutoConfiguration |mybatis plus join properties config complete
2024-10-28 13:39:10 |INFO  |main |MybatisPlusJoinAutoConfiguration.java:140 |com.github.yulichang.autoconfigure.MybatisPlusJoinAutoConfiguration |mybatis plus join SqlInjector init
2024-10-28 13:39:12 |INFO  |main |WebMvcPropertySourcedRequestMappingHandlerMapping.java:69 |springfox.documentation.spring.web.WebMvcPropertySourcedRequestMappingHandlerMapping |Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
2024-10-28 13:39:12 |INFO  |main |XxlJobConfig.java:46 |com.bilibili.search.config.XxlJobConfig |>>>>>>>>>>> xxl-job config init.
2024-10-28 13:39:14 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 13:39:16 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 13:39:16 |WARN  |main |LoadBalancerCacheAutoConfiguration.java:82 |org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger |Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-10-28 13:39:16 |INFO  |main |XxlJobExecutor.java:183 |com.xxl.job.core.executor.XxlJobExecutor |>>>>>>>>>>> xxl-job register jobhandler success, name:mysqlToEs, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@309e874[class com.bilibili.search.handler.MysqlToEsHandler#mysqlToEsHandler]
2024-10-28 13:39:17 |INFO  |main |RpcClientFactory.java:80 |com.alibaba.nacos.common.remote.client |[RpcClientFactory] create a new rpc client of 675a4dcb-5049-4e8b-a821-886c3d928482
2024-10-28 13:39:17 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[675a4dcb-5049-4e8b-a821-886c3d928482] RpcClient init label, labels = {module=naming, source=sdk}
2024-10-28 13:39:17 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[675a4dcb-5049-4e8b-a821-886c3d928482] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-10-28 13:39:17 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[675a4dcb-5049-4e8b-a821-886c3d928482] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-10-28 13:39:17 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[675a4dcb-5049-4e8b-a821-886c3d928482] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-10-28 13:39:17 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[675a4dcb-5049-4e8b-a821-886c3d928482] Try to connect to server on start up, server: {serverIp = '8.138.31.44', server main port = 8848}
2024-10-28 13:39:17 |INFO  |Thread-14 |EmbedServer.java:82 |com.xxl.job.core.server.EmbedServer |>>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9910
2024-10-28 13:39:17 |INFO  |xxl-job, executor ExecutorRegistryThread |ExecutorRegistryThread.java:54 |com.xxl.job.core.thread.ExecutorRegistryThread |>>>>>>>>>>> xxl-job registry fail, registryParam:RegistryParam{registryGroup='EXECUTOR', registryKey='demo-service-impl', registryValue='http://192.168.246.1:9910/'}, registryResult:ReturnT [code=500, msg=The access token is wrong., content=null]
2024-10-28 13:39:17 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[675a4dcb-5049-4e8b-a821-886c3d928482] Success to connect to server [8.138.31.44:8848] on start up, connectionId = 1730093957830_221.4.34.2_4471
2024-10-28 13:39:17 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[675a4dcb-5049-4e8b-a821-886c3d928482] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-10-28 13:39:17 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[675a4dcb-5049-4e8b-a821-886c3d928482] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$513/0x000000080040e440
2024-10-28 13:39:17 |INFO  |com.alibaba.nacos.client.remote.worker |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[675a4dcb-5049-4e8b-a821-886c3d928482] Notify connected event to listeners.
2024-10-28 13:39:17 |INFO  |main |DirectJDKLog.java:173 |org.apache.coyote.http11.Http11NioProtocol |Starting ProtocolHandler ["http-nio-8082"]
2024-10-28 13:39:17 |INFO  |main |TomcatWebServer.java:220 |org.springframework.boot.web.embedded.tomcat.TomcatWebServer |Tomcat started on port(s): 8082 (http) with context path ''
2024-10-28 13:39:17 |INFO  |main |NacosServiceRegistry.java:75 |com.alibaba.cloud.nacos.registry.NacosServiceRegistry |nacos registry, DEFAULT_GROUP search-service 192.168.213.1:8082 register finished
2024-10-28 13:39:17 |INFO  |nacos-grpc-client-executor-6 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[675a4dcb-5049-4e8b-a821-886c3d928482] Receive server push request, request = NotifySubscriberRequest, requestId = 16
2024-10-28 13:39:17 |INFO  |nacos-grpc-client-executor-6 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[675a4dcb-5049-4e8b-a821-886c3d928482] Ack server push request, request = NotifySubscriberRequest, requestId = 16
2024-10-28 13:39:18 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 13:39:18 |INFO  |main |DocumentationPluginsBootstrapper.java:93 |springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper |Documentation plugins bootstrapped
2024-10-28 13:39:18 |INFO  |main |AbstractDocumentationPluginsBootstrapper.java:79 |springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper |Found 2 custom documentation plugin(s)
2024-10-28 13:39:18 |INFO  |main |ApiListingReferenceScanner.java:44 |springfox.documentation.spring.web.scanners.ApiListingReferenceScanner |Scanning for api listing references
2024-10-28 13:39:18 |INFO  |main |ApiListingReferenceScanner.java:44 |springfox.documentation.spring.web.scanners.ApiListingReferenceScanner |Scanning for api listing references
2024-10-28 13:39:18 |INFO  |main |StartupInfoLogger.java:61 |com.bilibili.search.SearchApplication |Started SearchApplication in 16.817 seconds (JVM running for 17.905)
2024-10-28 13:39:18 |INFO  |main |NacosContextRefresher.java:129 |com.alibaba.cloud.nacos.refresh.NacosContextRefresher |[Nacos Config] Listening config: dataId=search-service, group=DEFAULT_GROUP
2024-10-28 13:39:18 |INFO  |main |NacosContextRefresher.java:129 |com.alibaba.cloud.nacos.refresh.NacosContextRefresher |[Nacos Config] Listening config: dataId=search-service.yaml, group=DEFAULT_GROUP
2024-10-28 13:39:18 |INFO  |main |NacosContextRefresher.java:129 |com.alibaba.cloud.nacos.refresh.NacosContextRefresher |[Nacos Config] Listening config: dataId=search-service-dev.yaml, group=DEFAULT_GROUP
2024-10-28 13:39:38 |WARN  |Thread-1 |HttpClientBeanHolder.java:108 |com.alibaba.nacos.common.http.HttpClientBeanHolder |[HttpClientBeanHolder] Start destroying common HttpClient
2024-10-28 13:39:38 |INFO  |Thread-9 |ZipkinAutoConfiguration.java:143 |org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration |Flushing remaining spans on shutdown
2024-10-28 13:39:38 |WARN  |Thread-5 |NotifyCenter.java:136 |com.alibaba.nacos.common.notify.NotifyCenter |[NotifyCenter] Start destroying Publisher
2024-10-28 13:39:38 |WARN  |Thread-5 |NotifyCenter.java:153 |com.alibaba.nacos.common.notify.NotifyCenter |[NotifyCenter] Destruction of the end
2024-10-28 13:39:38 |WARN  |Thread-1 |HttpClientBeanHolder.java:114 |com.alibaba.nacos.common.http.HttpClientBeanHolder |[HttpClientBeanHolder] Destruction of the end
2024-10-28 13:39:38 |INFO  |SpringApplicationShutdownHook |NacosServiceRegistry.java:94 |com.alibaba.cloud.nacos.registry.NacosServiceRegistry |De-registering from Nacos Server now...
2024-10-28 13:39:38 |INFO  |SpringApplicationShutdownHook |NacosServiceRegistry.java:114 |com.alibaba.cloud.nacos.registry.NacosServiceRegistry |De-registration finished.
2024-10-28 13:39:38 |INFO  |SpringApplicationShutdownHook |RpcClient.java:454 |com.alibaba.nacos.common.remote.client |Shutdown rpc client, set status to shutdown
2024-10-28 13:39:38 |INFO  |SpringApplicationShutdownHook |RpcClient.java:456 |com.alibaba.nacos.common.remote.client |Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5a8dbcf9[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-10-28 13:39:38 |INFO  |SpringApplicationShutdownHook |RpcClient.java:591 |com.alibaba.nacos.common.remote.client |Close current connection 1730093957830_221.4.34.2_4471
2024-10-28 13:39:38 |INFO  |SpringApplicationShutdownHook |GrpcClient.java:85 |com.alibaba.nacos.common.remote.client.grpc.GrpcClient |Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1f7e8b9a[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 13]
2024-10-28 13:39:38 |INFO  |Thread-14 |EmbedServer.java:91 |com.xxl.job.core.server.EmbedServer |>>>>>>>>>>> xxl-job remoting server stop.
2024-10-28 13:39:38 |INFO  |xxl-job, executor ExecutorRegistryThread |ExecutorRegistryThread.java:90 |com.xxl.job.core.thread.ExecutorRegistryThread |>>>>>>>>>>> xxl-job registry-remove fail, registryParam:RegistryParam{registryGroup='EXECUTOR', registryKey='demo-service-impl', registryValue='http://192.168.246.1:9910/'}, registryResult:ReturnT [code=500, msg=The access token is wrong., content=null]
2024-10-28 13:39:38 |INFO  |xxl-job, executor ExecutorRegistryThread |ExecutorRegistryThread.java:105 |com.xxl.job.core.thread.ExecutorRegistryThread |>>>>>>>>>>> xxl-job, executor registry thread destroy.
2024-10-28 13:39:38 |INFO  |SpringApplicationShutdownHook |EmbedServer.java:117 |com.xxl.job.core.server.EmbedServer |>>>>>>>>>>> xxl-job remoting server destroy success.
2024-10-28 13:39:38 |INFO  |xxl-job, executor TriggerCallbackThread |TriggerCallbackThread.java:98 |com.xxl.job.core.thread.TriggerCallbackThread |>>>>>>>>>>> xxl-job, executor callback thread destroy.
2024-10-28 13:39:38 |INFO  |Thread-13 |TriggerCallbackThread.java:128 |com.xxl.job.core.thread.TriggerCallbackThread |>>>>>>>>>>> xxl-job, executor retry callback thread destroy.
2024-10-28 13:39:38 |INFO  |SpringApplicationShutdownHook |DruidDataSource.java:2063 |com.alibaba.druid.pool.DruidDataSource |{dataSource-0} closing ...
2024-10-28 16:52:27 |INFO  |background-preinit |Version.java:21 |org.hibernate.validator.internal.util.Version |HV000001: Hibernate Validator 6.2.5.Final
2024-10-28 16:52:29 |INFO  |main |RpcClientFactory.java:80 |com.alibaba.nacos.common.remote.client |[RpcClientFactory] create a new rpc client of 88d12433-e99c-44b7-9cd0-442a929c8983_config-0
2024-10-28 16:52:29 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 12 ms to scan 1 urls, producing 3 keys and 6 values 
2024-10-28 16:52:29 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 5 ms to scan 1 urls, producing 4 keys and 9 values 
2024-10-28 16:52:29 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 4 ms to scan 1 urls, producing 3 keys and 10 values 
2024-10-28 16:52:29 |WARN  |main |Reflections.java:179 |org.reflections.Reflections |given scan urls are empty. set urls in the configuration
2024-10-28 16:52:29 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 5 ms to scan 1 urls, producing 1 keys and 5 values 
2024-10-28 16:52:29 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 5 ms to scan 1 urls, producing 1 keys and 7 values 
2024-10-28 16:52:29 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 5 ms to scan 1 urls, producing 2 keys and 8 values 
2024-10-28 16:52:29 |WARN  |main |Reflections.java:179 |org.reflections.Reflections |given scan urls are empty. set urls in the configuration
2024-10-28 16:52:29 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[88d12433-e99c-44b7-9cd0-442a929c8983_config-0] RpcClient init label, labels = {module=config, Vipserver-Tag=null, source=sdk, Amory-Tag=null, Location-Tag=null, taskId=0, AppName=unknown}
2024-10-28 16:52:29 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[88d12433-e99c-44b7-9cd0-442a929c8983_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$455/0x00000008003ffc40
2024-10-28 16:52:29 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[88d12433-e99c-44b7-9cd0-442a929c8983_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$456/0x00000008003ff040
2024-10-28 16:52:29 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[88d12433-e99c-44b7-9cd0-442a929c8983_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-10-28 16:52:29 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[88d12433-e99c-44b7-9cd0-442a929c8983_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-10-28 16:52:29 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[88d12433-e99c-44b7-9cd0-442a929c8983_config-0] Try to connect to server on start up, server: {serverIp = '8.138.31.44', server main port = 8848}
2024-10-28 16:52:31 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[88d12433-e99c-44b7-9cd0-442a929c8983_config-0] Success to connect to server [8.138.31.44:8848] on start up, connectionId = 1730105551694_221.4.34.30_53092
2024-10-28 16:52:31 |INFO  |com.alibaba.nacos.client.remote.worker |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[88d12433-e99c-44b7-9cd0-442a929c8983_config-0] Notify connected event to listeners.
2024-10-28 16:52:31 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[88d12433-e99c-44b7-9cd0-442a929c8983_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-10-28 16:52:31 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[88d12433-e99c-44b7-9cd0-442a929c8983_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x000000080045f040
2024-10-28 16:52:31 |WARN  |main |NacosPropertySourceBuilder.java:87 |com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder |Ignore the empty nacos configuration and get it based on dataId[gateway-service] & group[DEFAULT_GROUP]
2024-10-28 16:52:31 |WARN  |main |NacosPropertySourceBuilder.java:87 |com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder |Ignore the empty nacos configuration and get it based on dataId[gateway-service.properties] & group[DEFAULT_GROUP]
2024-10-28 16:52:31 |WARN  |main |NacosPropertySourceBuilder.java:87 |com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder |Ignore the empty nacos configuration and get it based on dataId[gateway-service-dev.properties] & group[DEFAULT_GROUP]
2024-10-28 16:52:31 |INFO  |main |PropertySourceBootstrapConfiguration.java:109 |org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration |Located property source: [BootstrapPropertySource {name='bootstrapProperties-gateway-service-dev.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service,DEFAULT_GROUP'}]
2024-10-28 16:52:31 |INFO  |main |SpringApplication.java:637 |com.bilibili.gateway.GatewayApplication |The following 1 profile is active: "dev"
2024-10-28 16:52:31 |INFO  |main |RepositoryConfigurationDelegate.java:262 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-28 16:52:31 |INFO  |main |RepositoryConfigurationDelegate.java:132 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-28 16:52:31 |INFO  |main |RepositoryConfigurationDelegate.java:201 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-10-28 16:52:31 |WARN  |main |Logger.java:44 |org.mybatis.spring.mapper.ClassPathMapperScanner |No MyBatis mapper was found in '[com.bilibili.gateway]' package. Please check your configuration.
2024-10-28 16:52:31 |INFO  |main |GenericScope.java:283 |org.springframework.cloud.context.scope.GenericScope |BeanFactory id=889e247c-52a9-368e-aee2-c9eb65bd094c
2024-10-28 16:52:32 |INFO  |main |PostProcessorRegistrationDelegate.java:376 |org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker |Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-28 16:52:32 |INFO  |main |PostProcessorRegistrationDelegate.java:376 |org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker |Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-28 16:52:32 |INFO  |main |PostProcessorRegistrationDelegate.java:376 |org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker |Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-28 16:52:33 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 16:52:35 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 16:52:36 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [After]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Before]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Between]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Cookie]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Header]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Host]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Method]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Path]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Query]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [ReadBody]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [RemoteAddr]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Weight]
2024-10-28 16:52:38 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [CloudFoundryRouteService]
2024-10-28 16:52:38 |INFO  |main |ReactiveUserDetailsServiceAutoConfiguration.java:87 |org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration |

Using generated security password: b04c66ba-f585-4ace-b0d4-5be29198f26b

2024-10-28 16:52:39 |INFO  |main |MybatisPlusJoinAutoConfiguration.java:140 |com.github.yulichang.autoconfigure.MybatisPlusJoinAutoConfiguration |mybatis plus join properties config complete
2024-10-28 16:52:39 |INFO  |main |MybatisPlusJoinAutoConfiguration.java:140 |com.github.yulichang.autoconfigure.MybatisPlusJoinAutoConfiguration |mybatis plus join SqlInjector init
2024-10-28 16:52:39 |WARN  |main |LoadBalancerCacheAutoConfiguration.java:82 |org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger |Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-10-28 16:52:39 |INFO  |main |RpcClientFactory.java:80 |com.alibaba.nacos.common.remote.client |[RpcClientFactory] create a new rpc client of 6f8cec4e-236b-4629-b703-c6e531b0ba5b
2024-10-28 16:52:39 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] RpcClient init label, labels = {module=naming, source=sdk}
2024-10-28 16:52:39 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-10-28 16:52:39 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-10-28 16:52:39 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-10-28 16:52:39 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Try to connect to server on start up, server: {serverIp = '8.138.31.44', server main port = 8848}
2024-10-28 16:52:39 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Success to connect to server [8.138.31.44:8848] on start up, connectionId = 1730105560470_221.4.34.30_6129
2024-10-28 16:52:39 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-10-28 16:52:39 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x000000080045f040
2024-10-28 16:52:39 |INFO  |com.alibaba.nacos.client.remote.worker |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Notify connected event to listeners.
2024-10-28 16:52:39 |INFO  |main |NettyWebServer.java:111 |org.springframework.boot.web.embedded.netty.NettyWebServer |Netty started on port 8085
2024-10-28 16:52:40 |INFO  |nacos-grpc-client-executor-7 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Receive server push request, request = NotifySubscriberRequest, requestId = 17
2024-10-28 16:52:40 |INFO  |nacos-grpc-client-executor-7 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Ack server push request, request = NotifySubscriberRequest, requestId = 17
2024-10-28 16:52:41 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 16:52:42 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 16:52:42 |INFO  |main |NacosServiceRegistry.java:75 |com.alibaba.cloud.nacos.registry.NacosServiceRegistry |nacos registry, DEFAULT_GROUP gateway-service 192.168.213.1:8085 register finished
2024-10-28 16:52:42 |INFO  |main |StartupInfoLogger.java:61 |com.bilibili.gateway.GatewayApplication |Started GateWayApplication in 16.79 seconds (JVM running for 17.852)
2024-10-28 16:52:42 |INFO  |main |NacosContextRefresher.java:129 |com.alibaba.cloud.nacos.refresh.NacosContextRefresher |[Nacos Config] Listening config: dataId=gateway-service-dev.properties, group=DEFAULT_GROUP
2024-10-28 16:52:42 |INFO  |main |NacosContextRefresher.java:129 |com.alibaba.cloud.nacos.refresh.NacosContextRefresher |[Nacos Config] Listening config: dataId=gateway-service.properties, group=DEFAULT_GROUP
2024-10-28 16:52:42 |INFO  |main |NacosContextRefresher.java:129 |com.alibaba.cloud.nacos.refresh.NacosContextRefresher |[Nacos Config] Listening config: dataId=gateway-service, group=DEFAULT_GROUP
2024-10-28 16:52:43 |INFO  |nacos-grpc-client-executor-14 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Receive server push request, request = NotifySubscriberRequest, requestId = 18
2024-10-28 16:52:43 |INFO  |nacos-grpc-client-executor-14 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Ack server push request, request = NotifySubscriberRequest, requestId = 18
2024-10-28 16:52:49 |INFO  |Thread-10 |ZipkinAutoConfiguration.java:143 |org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration |Flushing remaining spans on shutdown
2024-10-28 16:52:49 |WARN  |Thread-5 |NotifyCenter.java:136 |com.alibaba.nacos.common.notify.NotifyCenter |[NotifyCenter] Start destroying Publisher
2024-10-28 16:52:49 |WARN  |Thread-1 |HttpClientBeanHolder.java:108 |com.alibaba.nacos.common.http.HttpClientBeanHolder |[HttpClientBeanHolder] Start destroying common HttpClient
2024-10-28 16:52:49 |WARN  |Thread-5 |NotifyCenter.java:153 |com.alibaba.nacos.common.notify.NotifyCenter |[NotifyCenter] Destruction of the end
2024-10-28 16:52:49 |WARN  |Thread-1 |HttpClientBeanHolder.java:114 |com.alibaba.nacos.common.http.HttpClientBeanHolder |[HttpClientBeanHolder] Destruction of the end
2024-10-28 16:52:49 |INFO  |SpringApplicationShutdownHook |DruidDataSource.java:2063 |com.alibaba.druid.pool.DruidDataSource |{dataSource-0} closing ...
2024-10-28 16:52:49 |INFO  |SpringApplicationShutdownHook |NacosServiceRegistry.java:94 |com.alibaba.cloud.nacos.registry.NacosServiceRegistry |De-registering from Nacos Server now...
2024-10-28 16:52:49 |INFO  |SpringApplicationShutdownHook |NacosServiceRegistry.java:114 |com.alibaba.cloud.nacos.registry.NacosServiceRegistry |De-registration finished.
2024-10-28 16:52:49 |INFO  |nacos-grpc-client-executor-17 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Receive server push request, request = NotifySubscriberRequest, requestId = 19
2024-10-28 16:52:49 |INFO  |nacos-grpc-client-executor-17 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[6f8cec4e-236b-4629-b703-c6e531b0ba5b] Ack server push request, request = NotifySubscriberRequest, requestId = 19
2024-10-28 16:52:49 |INFO  |SpringApplicationShutdownHook |RpcClient.java:454 |com.alibaba.nacos.common.remote.client |Shutdown rpc client, set status to shutdown
2024-10-28 16:52:49 |INFO  |SpringApplicationShutdownHook |RpcClient.java:456 |com.alibaba.nacos.common.remote.client |Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5b39cec5[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-10-28 16:52:49 |INFO  |SpringApplicationShutdownHook |RpcClient.java:591 |com.alibaba.nacos.common.remote.client |Close current connection 1730105560470_221.4.34.30_6129
2024-10-28 16:52:49 |INFO  |SpringApplicationShutdownHook |GrpcClient.java:85 |com.alibaba.nacos.common.remote.client.grpc.GrpcClient |Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@59b18e17[Running, pool size = 18, active threads = 0, queued tasks = 0, completed tasks = 18]
2024-10-28 17:04:37 |INFO  |background-preinit |Version.java:21 |org.hibernate.validator.internal.util.Version |HV000001: Hibernate Validator 6.2.5.Final
2024-10-28 17:04:38 |INFO  |main |RpcClientFactory.java:80 |com.alibaba.nacos.common.remote.client |[RpcClientFactory] create a new rpc client of 502b813a-ad70-477c-b6b1-37c9258a945a_config-0
2024-10-28 17:04:38 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 14 ms to scan 1 urls, producing 3 keys and 6 values 
2024-10-28 17:04:38 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 6 ms to scan 1 urls, producing 4 keys and 9 values 
2024-10-28 17:04:38 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 5 ms to scan 1 urls, producing 3 keys and 10 values 
2024-10-28 17:04:38 |WARN  |main |Reflections.java:179 |org.reflections.Reflections |given scan urls are empty. set urls in the configuration
2024-10-28 17:04:38 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 4 ms to scan 1 urls, producing 1 keys and 5 values 
2024-10-28 17:04:38 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 5 ms to scan 1 urls, producing 1 keys and 7 values 
2024-10-28 17:04:38 |INFO  |main |Reflections.java:232 |org.reflections.Reflections |Reflections took 5 ms to scan 1 urls, producing 2 keys and 8 values 
2024-10-28 17:04:38 |WARN  |main |Reflections.java:179 |org.reflections.Reflections |given scan urls are empty. set urls in the configuration
2024-10-28 17:04:38 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[502b813a-ad70-477c-b6b1-37c9258a945a_config-0] RpcClient init label, labels = {module=config, Vipserver-Tag=null, source=sdk, Amory-Tag=null, Location-Tag=null, taskId=0, AppName=unknown}
2024-10-28 17:04:38 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[502b813a-ad70-477c-b6b1-37c9258a945a_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$455/0x00000008003ffc40
2024-10-28 17:04:38 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[502b813a-ad70-477c-b6b1-37c9258a945a_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$456/0x00000008003ff040
2024-10-28 17:04:38 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[502b813a-ad70-477c-b6b1-37c9258a945a_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-10-28 17:04:38 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[502b813a-ad70-477c-b6b1-37c9258a945a_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-10-28 17:04:38 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[502b813a-ad70-477c-b6b1-37c9258a945a_config-0] Try to connect to server on start up, server: {serverIp = '8.138.31.44', server main port = 8848}
2024-10-28 17:04:40 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[502b813a-ad70-477c-b6b1-37c9258a945a_config-0] Success to connect to server [8.138.31.44:8848] on start up, connectionId = 1730106280909_221.4.34.30_54952
2024-10-28 17:04:40 |INFO  |com.alibaba.nacos.client.remote.worker |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[502b813a-ad70-477c-b6b1-37c9258a945a_config-0] Notify connected event to listeners.
2024-10-28 17:04:40 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[502b813a-ad70-477c-b6b1-37c9258a945a_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-10-28 17:04:40 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[502b813a-ad70-477c-b6b1-37c9258a945a_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x0000000800467040
2024-10-28 17:04:40 |WARN  |main |NacosPropertySourceBuilder.java:87 |com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder |Ignore the empty nacos configuration and get it based on dataId[gateway-service] & group[DEFAULT_GROUP]
2024-10-28 17:04:40 |WARN  |main |NacosPropertySourceBuilder.java:87 |com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder |Ignore the empty nacos configuration and get it based on dataId[gateway-service.properties] & group[DEFAULT_GROUP]
2024-10-28 17:04:40 |WARN  |main |NacosPropertySourceBuilder.java:87 |com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder |Ignore the empty nacos configuration and get it based on dataId[gateway-service-dev.properties] & group[DEFAULT_GROUP]
2024-10-28 17:04:40 |INFO  |main |PropertySourceBootstrapConfiguration.java:109 |org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration |Located property source: [BootstrapPropertySource {name='bootstrapProperties-gateway-service-dev.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service.properties,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service,DEFAULT_GROUP'}]
2024-10-28 17:04:40 |INFO  |main |SpringApplication.java:637 |com.bilibili.gateway.GatewayApplication |The following 1 profile is active: "dev"
2024-10-28 17:04:40 |INFO  |main |RepositoryConfigurationDelegate.java:262 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-28 17:04:40 |INFO  |main |RepositoryConfigurationDelegate.java:132 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-28 17:04:40 |INFO  |main |RepositoryConfigurationDelegate.java:201 |org.springframework.data.repository.config.RepositoryConfigurationDelegate |Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2024-10-28 17:04:41 |WARN  |main |Logger.java:44 |org.mybatis.spring.mapper.ClassPathMapperScanner |No MyBatis mapper was found in '[com.bilibili.gateway]' package. Please check your configuration.
2024-10-28 17:04:41 |INFO  |main |GenericScope.java:283 |org.springframework.cloud.context.scope.GenericScope |BeanFactory id=aae47500-3c93-35ad-81ba-b092152d1699
2024-10-28 17:04:41 |INFO  |main |PostProcessorRegistrationDelegate.java:376 |org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker |Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-28 17:04:41 |INFO  |main |PostProcessorRegistrationDelegate.java:376 |org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker |Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-28 17:04:41 |INFO  |main |PostProcessorRegistrationDelegate.java:376 |org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker |Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-10-28 17:04:41 |INFO  |main |ReactiveUserDetailsServiceAutoConfiguration.java:87 |org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration |

Using generated security password: c4b7a90e-b485-4064-8ded-5970cacc27b1

2024-10-28 17:04:41 |INFO  |main |SecurityConfig.java:28 |com.bilibili.gateway.config.SecurityConfig |========SecurityWebFilterChain create========
2024-10-28 17:04:41 |INFO  |main |JwtAuthenticationFilter.java:24 |com.bilibili.gateway.filter.JwtAuthenticationFilter |========= JwtAuthenticationFilter init =========
2024-10-28 17:04:41 |INFO  |main |JwtAuthenticationFilter.java:27 |com.bilibili.gateway.filter.JwtAuthenticationFilter |this.jwtTokenProvider ============> com.bilibili.gateway.util.JwtTool@55c46ec1
2024-10-28 17:04:41 |INFO  |main |JwtAuthenticationFilter.java:28 |com.bilibili.gateway.filter.JwtAuthenticationFilter |this.securityContextRepository ============> org.springframework.security.web.server.context.WebSessionServerSecurityContextRepository@3eff6846
2024-10-28 17:04:42 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 17:04:44 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 17:04:45 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [After]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Before]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Between]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Cookie]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Header]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Host]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Method]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Path]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Query]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [ReadBody]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [RemoteAddr]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [Weight]
2024-10-28 17:04:47 |INFO  |main |RouteDefinitionRouteLocator.java:88 |org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator |Loaded RoutePredicateFactory [CloudFoundryRouteService]
2024-10-28 17:04:47 |INFO  |main |MybatisPlusJoinAutoConfiguration.java:140 |com.github.yulichang.autoconfigure.MybatisPlusJoinAutoConfiguration |mybatis plus join properties config complete
2024-10-28 17:04:47 |INFO  |main |MybatisPlusJoinAutoConfiguration.java:140 |com.github.yulichang.autoconfigure.MybatisPlusJoinAutoConfiguration |mybatis plus join SqlInjector init
2024-10-28 17:04:48 |WARN  |main |LoadBalancerCacheAutoConfiguration.java:82 |org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger |Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-10-28 17:04:48 |INFO  |main |RpcClientFactory.java:80 |com.alibaba.nacos.common.remote.client |[RpcClientFactory] create a new rpc client of d56af016-ded3-4d70-89ab-91843bf53ccd
2024-10-28 17:04:48 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] RpcClient init label, labels = {module=naming, source=sdk}
2024-10-28 17:04:48 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-10-28 17:04:48 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-10-28 17:04:48 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-10-28 17:04:48 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] Try to connect to server on start up, server: {serverIp = '8.138.31.44', server main port = 8848}
2024-10-28 17:04:48 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] Success to connect to server [8.138.31.44:8848] on start up, connectionId = 1730106289230_221.4.34.30_39424
2024-10-28 17:04:48 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-10-28 17:04:48 |INFO  |main |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x0000000800467040
2024-10-28 17:04:48 |INFO  |com.alibaba.nacos.client.remote.worker |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] Notify connected event to listeners.
2024-10-28 17:04:48 |INFO  |main |NettyWebServer.java:111 |org.springframework.boot.web.embedded.netty.NettyWebServer |Netty started on port 8085
2024-10-28 17:04:49 |INFO  |nacos-grpc-client-executor-6 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] Receive server push request, request = NotifySubscriberRequest, requestId = 20
2024-10-28 17:04:49 |INFO  |nacos-grpc-client-executor-6 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] Ack server push request, request = NotifySubscriberRequest, requestId = 20
2024-10-28 17:04:50 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 17:04:51 |INFO  |main |InetUtils.java:170 |org.springframework.cloud.commons.util.InetUtils |Cannot determine local hostname
2024-10-28 17:04:51 |INFO  |main |NacosServiceRegistry.java:75 |com.alibaba.cloud.nacos.registry.NacosServiceRegistry |nacos registry, DEFAULT_GROUP gateway-service 192.168.213.1:8085 register finished
2024-10-28 17:04:51 |INFO  |main |StartupInfoLogger.java:61 |com.bilibili.gateway.GatewayApplication |Started GateWayApplication in 16.272 seconds (JVM running for 17.142)
2024-10-28 17:04:51 |INFO  |main |NacosContextRefresher.java:129 |com.alibaba.cloud.nacos.refresh.NacosContextRefresher |[Nacos Config] Listening config: dataId=gateway-service-dev.properties, group=DEFAULT_GROUP
2024-10-28 17:04:51 |INFO  |main |NacosContextRefresher.java:129 |com.alibaba.cloud.nacos.refresh.NacosContextRefresher |[Nacos Config] Listening config: dataId=gateway-service.properties, group=DEFAULT_GROUP
2024-10-28 17:04:51 |INFO  |main |NacosContextRefresher.java:129 |com.alibaba.cloud.nacos.refresh.NacosContextRefresher |[Nacos Config] Listening config: dataId=gateway-service, group=DEFAULT_GROUP
2024-10-28 17:04:52 |INFO  |nacos-grpc-client-executor-12 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] Receive server push request, request = NotifySubscriberRequest, requestId = 21
2024-10-28 17:04:52 |INFO  |nacos-grpc-client-executor-12 |LoggerUtils.java:60 |com.alibaba.nacos.common.remote.client |[d56af016-ded3-4d70-89ab-91843bf53ccd] Ack server push request, request = NotifySubscriberRequest, requestId = 21
2024-10-28 17:05:00 |INFO  |Thread-10 |ZipkinAutoConfiguration.java:143 |org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration |Flushing remaining spans on shutdown
2024-10-28 17:05:00 |WARN  |Thread-1 |HttpClientBeanHolder.java:108 |com.alibaba.nacos.common.http.HttpClientBeanHolder |[HttpClientBeanHolder] Start destroying common HttpClient
2024-10-28 17:05:00 |WARN  |Thread-5 |NotifyCenter.java:136 |com.alibaba.nacos.common.notify.NotifyCenter |[NotifyCenter] Start destroying Publisher
2024-10-28 17:05:00 |WARN  |Thread-5 |NotifyCenter.java:153 |com.alibaba.nacos.common.notify.NotifyCenter |[NotifyCenter] Destruction of the end
2024-10-28 17:05:00 |WARN  |Thread-1 |HttpClientBeanHolder.java:114 |com.alibaba.nacos.common.http.HttpClientBeanHolder |[HttpClientBeanHolder] Destruction of the end
2024-10-28 17:05:00 |INFO  |SpringApplicationShutdownHook |DruidDataSource.java:2063 |com.alibaba.druid.pool.DruidDataSource |{dataSource-0} closing ...
2024-10-28 17:05:00 |INFO  |SpringApplicationShutdownHook |NacosServiceRegistry.java:94 |com.alibaba.cloud.nacos.registry.NacosServiceRegistry |De-registering from Nacos Server now...
2024-10-28 17:05:00 |INFO  |SpringApplicationShutdownHook |NacosServiceRegistry.java:114 |com.alibaba.cloud.nacos.registry.NacosServiceRegistry |De-registration finished.
2024-10-28 17:05:01 |INFO  |SpringApplicationShutdownHook |RpcClient.java:454 |com.alibaba.nacos.common.remote.client |Shutdown rpc client, set status to shutdown
2024-10-28 17:05:01 |INFO  |SpringApplicationShutdownHook |RpcClient.java:456 |com.alibaba.nacos.common.remote.client |Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@645bb47a[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-10-28 17:05:01 |INFO  |SpringApplicationShutdownHook |RpcClient.java:591 |com.alibaba.nacos.common.remote.client |Close current connection 1730106289230_221.4.34.30_39424
2024-10-28 17:05:01 |INFO  |SpringApplicationShutdownHook |GrpcClient.java:85 |com.alibaba.nacos.common.remote.client.grpc.GrpcClient |Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@38146737[Running, pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 16]
